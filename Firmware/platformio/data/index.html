<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Filament Dry Box</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="css/bootstrap.min.css" />
        <link rel="stylesheet" href="css/custom.min.css" />
        <link href="css/fontawesome.min.css" rel="stylesheet">
        <link href="css/brands.min.css" rel="stylesheet">
        <link href="css/solid.min.css" rel="stylesheet">
        <link rel="shortcut icon" type="image/jpg" href="img/favicon.png" />
    </head>
    <body class="d-flex flex-column min-vh-100">
        <div class="navbar navbar-expand-lg fixed-top navbar-dark dark-bg">
            <div class="container">
                <a href="#" class="navbar-brand">Filament Dry Box</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                        <div class="btn-group btn-group-md mr-4" role="group">
                            <button type="button" id="btnReboot" class="btn btn-danger"><i class="fas fa-power-off"></i> Reboot</button>
                        </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container"> <!-- Container -->
            <div class="row"> <!-- Content - First row  -->
                <div class="col-lg-5 col-md-5 col-sm-5"> <!-- Left column -->
                    <div class="page-header"> <!-- DryBox status title -->
                        <h2>DryBox Status</h2>
                    </div> <!-- DryBox status title END -->

                    <div class="row"> <!-- DryBox status -->
                        <div class="col-lg-12">
                            <div class="table-responsive">
                                  <table class="table table-sm table-striped table-bordered table-hover " >
                                    <tr>
                                        <td colspan="4"><span id="status-box" class="badge badge-pill badge-secondary">Heater is --</span></td>
                                    </tr>
                                    <tr>
                                        <th scope="col"></th>
                                        <th scope="col">Inside</th>
                                        <th scope="col">Outside</th>
                                        <th scope="col"></th>
                                    </tr>
                                    <tr>
                                        <td>Air Temperature</td>
                                        <td><span id="status-temp-inside">--</span>°C</td>
                                        <td><span id="status-temp-outside">--</span>°C</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Humidity</td>
                                        <td><span id="status-humidity-inside">--</span>%</td>
                                        <td><span id="status-humidity-outside">--</span>%</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td colspan="4"></td>
                                    </tr>
                                    <tr>
                                        <th scope="col"></th>
                                        <th scope="col">Current</th>
                                        <th scope="col">Limit</th>
                                        <th scope="col"></th>
                                    </tr>
                                    <tr>
                                        <td>Heater Temperature</td>
                                        <td><span id="status-temp-heater">--</span>°C</td>
                                        <td><span id="status-temp-heater-max">--</span>°C</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Temperature Inside</td>
                                        <td><span id="status-temp-inside2">--</span>°C</td>
                                        <td><span id="status-temp-inside-target">--</span>°C</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td colspan="1">Fan speed</td>
                                        <td colspan="3"><span id="status-fan-speed">--</span>%</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div> <!-- DryBox status END -->
                </div> <!-- Left column END -->

                <div class="col-lg-5 col-md-5 col-sm-5 offset-lg-1"> <!-- Right column -->

                    <div class="row">

                        <!-- <div class="col-lg-12"> <!-1- DryBox control -1-> -->
                        <!--     <h2>Control</h2> -->
                        <!-- </div> <!-1- DryBox control END -1-> -->

                        <div class="col-lg-12">
                          <div class="card">
                            <div class="card-header">
                            <h2>Control</h2>
                            </div>
                              <div class="card-body">

                                <fieldset class="form-group">
                                <span class="card-title">Target Temperature</span>
                                    <label for="labelSetTemperature">25°C</label>
                                    <input type="range" class="custom-range" id="sliderTemperature" min="15" max="80" step="1" value="25" />
                                </fieldset>
                              <!-- </div> -->

                              <!-- <div class="card-body"> -->
                                <fieldset class="form-group">
                                <span class="card-title">Fan Speed</span>
                                    <label for="labelSetFanSpeed">50%</label>
                                    <input type="range" class="custom-range" id="sliderFanSpeed" min="0" max="100" step="5" value="50" />
                                </fieldset>
                              <!-- </div> -->

                            <!-- <div class="card-body"> -->
                              <fieldset class="form-group">
                              <span class="card-title">Heater Temp Max</span>
                                  <label for="labelSetHeaterTemperature">55°C</label>
                                  <input type="range" class="custom-range" id="sliderHeaterTemperature" min="30" max="80" step="1" value="55" />
                              </fieldset>

                        <div class="col-lg-12">
                            <div class="btn-group btn-group-md mr-4" role="group">
                                <button type="button" id="btnSet" class="btn btn-warning mr-2"><i class="fas fa-fire"></i> Set Values</button>
                                <button type="button" id="btnTurnOff" class="btn btn-success"><i class="fas fa-power-off"></i> Turn OFF Heater</button>
                            </div>
                        </div>
                            </div>
                        </div>
                          </div>
                        </div>
                    </div>
                </div> <!-- Right column END -->
            </div> <!-- Content - First row END -->

            <div class="row"> <!-- Content - Second row  -->
                <div class="col-lg-9 col-md-9 col-sm-9 offset-lg-1"> <!-- Right column -->
                <h2>API Endpoints</h2>
                <div class="table-responsive"><!-- table div -->
                                <table class="table table-sm table-striped table-bordered table-hover ">
                                    <thead class="thead-light">
                                      <tr>
                                          <th scope="col">Endpoint</th>
                                          <th scope="col">Body</th>
                                          <th scope="col">Returns</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr>
                                        <td><code>/status</code></td>
                                        <td><code>None</code></td>
                                          <td><code>
  {"status":0, "target_temp_in":0.000000, "max_temp_heater":0.000000, "temp_in":20.240000, "temp_heater":17.500000, "humid_in":54.860001, "fan_speed":0, "temp_out":0.000000, "humid_out":0}
                                          </code></td>
                                      </tr>
                                      <tr>
                                        <td><code>/off</code></td>
                                        <td><code>None</code></td>
                                          <td><code>
  {"status": "OK"}
                                          </code></td>
                                      </tr>
                                      <tr>
                                        <td><code>/on</code></td>
                                        <td><code>None</code></td>
                                          <td><code>
  {"status": "OK"}
                                          </code></td>
                                      </tr>
                                      <tr>
                                        <td><code>/set/</code></td>
                                        <td><code>
  data: {
    temperature: temperature,
    heater: heater,
    fanspeed: fanspeed,
  },
                                            <code></td>
                                        </code></td>
                                          <td><code>
  {"status": "OK"}
                                          </code></td>
                                      </tr>
                                      <tr>
                                        <td><code>/reboot</code></td>
                                        <td><code>None</code></td>
                                          <td><code>
  {"status": "OK"}
                                          </code></td>
                                      </tr>
                                    </tbody>
                                </table><!-- table END -->
                </div><!-- table div END -->
              </div><!-- Column END -->
            </div> <!-- Content - Second row END -->
        </div> <!-- Container END -->

<!-- FOOTER -->
    <footer class="w-100 py-2 flex-shrink-0 mt-auto dark-bg">
        <div class="container py-2 text-center">
            <div class="row gy-4 gx-5">
                <div class="col-lg-12 col-md-12 ">
                    <!-- <p class="small text-muted"> -->
                    <!--   Dry box controller</a><br> -->
                  <!-- </p> -->
                  <img src="img/skull.png" alt="Dead" width="100" height="119">
                </div>
                <!-- <div class="col-lg-6 col-md-6"> -->
                      <!-- <a class="m-2" href="https://sasakaranovic.com/" target="_blank"><i class="fas fa-home"></i> Blog</a> -->

                <!-- </div> -->
            </div>
        </div>
    </footer>

        <script src="js/jquery-3.6.0.min.js"></script>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script src="js/drybox.js"></script>
    </body>
</html>
